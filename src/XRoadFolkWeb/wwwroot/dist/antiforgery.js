(function(){"use strict";let n=(t,e)=>{try{e&&console&&console.debug&&console.debug(t,e)}catch{}};function c(t){try{let e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/[.$?*|{}()\[\]\\\/\+^]/g,"\\$&")+"=([^;]*)"));return e?decodeURIComponent(e[1]):null}catch(e){return n("af:readCookie",e),null}}function u(){try{let t=document.querySelector('meta[name="request-verification-token"]');if(t&&t.content)return t.content}catch(t){n("af:readMetaToken",t)}return null}function f(){let t=u();if(t)return t;try{let e=document.querySelector('input[name="__RequestVerificationToken"]');if(e&&e.value)return e.value}catch(e){n("af:getToken-hiddenInput",e)}return c("RequestVerificationToken")||c(".AspNetCore.Antiforgery")}let s=window.fetch;window.fetch=function(t,e){e=e||{};let r=(e.method||typeof t=="object"&&t.method||"GET").toUpperCase(),i=r==="POST"||r==="PUT"||r==="PATCH"||r==="DELETE",a=!0;try{a=(typeof t=="string"?new URL(t,location.href):new URL(t.url||"",location.href)).origin===location.origin}catch(o){n("af:url-parse",o)}if(i&&a){let o=f();if(o)if(e.headers=e.headers||{},e.headers.append)try{e.headers.append("RequestVerificationToken",o)}catch(d){n("af:append-header",d)}else e.headers.RequestVerificationToken=o}return s(t,e)}})();
